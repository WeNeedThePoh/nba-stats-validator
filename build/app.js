function getGameId(e){e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),e.getDate()}
window.onload=()=>{const t=document.getElementById("open-file-btn"),e=document.createElement("input");function d(t){const e=[];for(const C of t){const[u,f,x,h,I,A,P,y,S,g,,v,w,b,q,N]=C.querySelectorAll("td");var[n,r]=u.textContent.split(","),[o,a]=h.textContent.trim().split("-"),s=+(parseInt(o,10)/parseInt(a,10)*100).toFixed(2)||0,[i,l]=I.textContent.trim().split("-"),m=+(parseInt(i,10)/parseInt(l,10)*100).toFixed(2)||0,[c,d]=A.textContent.trim().split("-"),p=+(parseInt(c,10)/parseInt(d,10)*100).toFixed(2)||0;e.push({firstName:r,lastName:n,position:f.textContent.trim(),minutes:x.textContent.trim(),fieldGoalsMade:parseInt(o,10),fieldGoalsAttempts:parseInt(a,10),fieldGoalsPercentage:s,threePointsMade:parseInt(i,10),threePointsAttempts:parseInt(l,10),threePointsPercentage:m,freeThrowMade:parseInt(c,10),freeThrowAttempts:parseInt(d,10),freeThrowPercentage:p,offensiveRebounds:parseInt(P.textContent.trim(),10),defensiveRebounds:parseInt(y.textContent.trim(),10),totalRebounds:parseInt(S.textContent.trim(),10),assists:parseInt(g.textContent.trim(),10),personalFouls:parseInt(v.textContent.trim(),10),steals:parseInt(w.textContent.trim(),10),turnouvers:parseInt(b.textContent.trim(),10),blocks:parseInt(q.textContent.trim(),10),points:parseInt(N.textContent.trim(),10)})}return e}e.type="file",t.onclick=()=>{e.click()},e.onchange=t=>{const e=t.target.files[0],n=e.name.replace(".htm",""),r=new FileReader;r.readAsText(e,"utf16le"),r.onload=t=>{!function(t,e){const n=new DOMParser,r=n.parseFromString(t,"text/html"),o=r.querySelectorAll("table"),a=o[0],s=o[1],i=o[2],l=o[3],m=function(t,e){let n=t.querySelectorAll("tr")[1].firstElementChild.textContent;n=n.split(" Vs ");const r=e.substring(0,3),o=e.slice(-3);return n.map((t,e)=>{return function(e,t){let n=e.substring(0,3);var r=[{name:"Golden State",triCode:"GSW"},{name:"Los Angeles",triCode:["LAC","LAL"]},{name:"New York",triCode:"NYK"},{name:"New Orleans",triCode:"NOP"},{name:"Oklahoma City",triCode:"OKC"},{name:"Brooklyn",triCode:"BKN"},{name:"San Antonio",triCode:"SAS"},{name:"Phoenix",triCode:"PHX"},{name:"Washington",triCode:"WSH"}].filter(t=>t.name===e);0<r.length&&(n=r[0].triCode,Array.isArray(n)&&n.includes(t)&&(n=t));return{name:e.toLowerCase(),triCode:n.toUpperCase()}}(t,0===e?r:o)})}(a,e),c={startsAt:function(t){const e=t.querySelectorAll("tr")[2].firstElementChild.textContent;var[n]=e.split(" at ");t=Date.parse(n);return n=new Date(t)}(a),location:function(t){const e=t.querySelectorAll("tr")[2].firstElementChild.textContent,[,n]=e.split(" at ");return n}(a),teams:m,scoreboard:function(t,e){const n={[e[0].name]:{},[e[1].name]:{}};for(var[r,o]of e.entries()){var a=t.querySelectorAll("tr")[r+1].children,r=a.length;n[o.name].firstP=a[2].textContent,5===r?(n[o.name].secondP=void 0,n[o.name].thirdP=void 0,n[o.name].final=a[4].textContent):7===r?(n[o.name].secondP=a[4].textContent,n[o.name].thirdP=void 0,n[o.name].final=a[6].textContent):(n[o.name].secondP=a[4].textContent,n[o.name].thirdP=a[6].textContent,n[o.name].final=a[8].textContent)}return n}(s,m),players:function(t,e,n){let r=e.querySelectorAll("tr");r=[].slice.call(r,3),r.splice(-2,2),r=d(r);let o=n.querySelectorAll("tr");return o=[].slice.call(o,3),o.splice(-2,2),o=d(o),{[t[0].name]:r,[t[1].name]:o}}(m,i,l)};populateHtml(c)}(t.target.result,n)}}};
function populateHtml(t){document.getElementById("date").innerHTML=t.startsAt.toUTCString(),document.getElementById("location").innerHTML=t.location,getGameId(t.startsAt),document.getElementById("open-file-btn").style.display="none",document.getElementById("content").style.display="block"}