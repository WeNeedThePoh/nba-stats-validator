import"./populate.js";window.onload=()=>{const t=document.getElementById("open-file-btn"),e=document.createElement("input");function p(e){let t=e.substring(0,3);var n=[{name:"Golden State",triCode:"GSW"},{name:"Los Angeles",triCode:"LAC"},{name:"New York",triCode:"NYK"},{name:"New Orleans",triCode:"NOP"},{name:"Oklahoma City",triCode:"OKC"},{name:"Brooklyn",triCode:"BKN"},{name:"San Antonio",triCode:"SAS"},{name:"Phoenix",triCode:"PHX"},{name:"Washington",triCode:"WSH"}].filter(t=>t.name===e);return 0<n.length&&(t=n[0].triCode),{name:e.toLowerCase(),triCode:t.toUpperCase()}}function c(t){const e=[];for(const C of t){const[u,f,x,I,h,A,P,S,g,y,,v,w,b,q,N]=C.querySelectorAll("td");var[n,r]=u.textContent.split(","),[o,a]=I.textContent.trim().split("-"),s=+(parseInt(o,10)/parseInt(a,10)*100).toFixed(2)||0,[i,l]=h.textContent.trim().split("-"),m=+(parseInt(i,10)/parseInt(l,10)*100).toFixed(2)||0,[p,c]=A.textContent.trim().split("-"),d=+(parseInt(p,10)/parseInt(c,10)*100).toFixed(2)||0;e.push({firstName:r,lastName:n,position:f.textContent.trim(),minutes:x.textContent.trim(),fieldGoalsMade:parseInt(o,10),fieldGoalsAttempts:parseInt(a,10),fieldGoalsPercentage:s,threePointsMade:parseInt(i,10),threePointsAttempts:parseInt(l,10),threePointsPercentage:m,freeThrowMade:parseInt(p,10),freeThrowAttempts:parseInt(c,10),freeThrowPercentage:d,offensiveRebounds:parseInt(P.textContent.trim(),10),defensiveRebounds:parseInt(S.textContent.trim(),10),totalRebounds:parseInt(g.textContent.trim(),10),assists:parseInt(y.textContent.trim(),10),personalFouls:parseInt(v.textContent.trim(),10),steals:parseInt(w.textContent.trim(),10),turnouvers:parseInt(b.textContent.trim(),10),blocks:parseInt(q.textContent.trim(),10),points:parseInt(N.textContent.trim(),10)})}return e}e.type="file",t.onclick=()=>{e.click()},e.onchange=t=>{t=t.target.files[0];const e=new FileReader;e.readAsText(t,"utf16le"),e.onload=t=>{!function(t){const e=new DOMParser,n=e.parseFromString(t,"text/html"),r=n.querySelectorAll("table"),o=r[0],a=r[1],s=r[2],i=r[3],l=function(t){let e=t.querySelectorAll("tr")[1].firstElementChild.textContent;return e=e.split(" Vs "),e.map(p)}(o),m={startsAt:function(t){const e=t.querySelectorAll("tr")[2].firstElementChild.textContent;var[n]=e.split(" at ");t=Date.parse(n);return n=new Date(t)}(o),location:function(t){const e=t.querySelectorAll("tr")[2].firstElementChild.textContent,[,n]=e.split(" at ");return n}(o),teams:l,scoreboard:function(t,e){const n={[e[0].name]:{},[e[1].name]:{}};for(var[r,o]of e.entries()){var a=t.querySelectorAll("tr")[r+1].children,r=a.length;n[o.name].firstP=a[2].textContent,5===r?(n[o.name].secondP=void 0,n[o.name].thirdP=void 0,n[o.name].final=a[4].textContent):7===r?(n[o.name].secondP=a[4].textContent,n[o.name].thirdP=void 0,n[o.name].final=a[6].textContent):(n[o.name].secondP=a[4].textContent,n[o.name].thirdP=a[6].textContent,n[o.name].final=a[8].textContent)}return n}(a,l),players:function(t,e,n){let r=e.querySelectorAll("tr");r=[].slice.call(r,3),r.splice(-2,2),r=c(r);let o=n.querySelectorAll("tr");return o=[].slice.call(o,3),o.splice(-2,2),o=c(o),{[t[0].name]:r,[t[1].name]:o}}(l,s,i)};populateHtml(m)}(t.target.result)}}};
function populateHtml(t){document.getElementById("date").innerHTML=t.startsAt.toUTCString(),document.getElementById("location").innerHTML=t.location,document.getElementById("open-file-btn").style.display="none",document.getElementById("content").style.display="block"}export{populateHtml as populateHtml};